(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/setting/setting"],{"329c":function(t,e,n){"use strict";n.r(e);var a=n("7724"),o=n("5d69");for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);n("d8e3");var i,u=n("f0c5"),r=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=r.exports},"5d69":function(t,e,n){"use strict";n.r(e);var a=n("8fb8"),o=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);e["default"]=o.a},"653f":function(t,e,n){"use strict";(function(t){n("3075");a(n("66fd"));var e=a(n("329c"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},7724:function(t,e,n){"use strict";var a,o=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a})},7930:function(t,e,n){},"8fb8":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n("9e95");var a=n("e228"),o={data:function(){return{provider:null,name:null,avatar:null,user:{},userId:"",username:"",nickname:"",version:"1.3.0"}},onLoad:function(){var e=this.provider;null!=e&&""!=e||(t.getProvider({service:"oauth",success:function(t){e=t.provider[0]}}),this.provider=e),this.userId=t.getStorageSync("userId"),this.avatar=t.getStorageSync("avatar"),this.name=t.getStorageSync("name"),""!=this.userId?this.loadUserInfo(this.userId):t.showToast({title:"您还未登录",icon:"none"})},methods:{loadUserInfo:function(){var t=this;(0,a.getUserInfo)(this.userId).then(function(e){console.log(e),0==e.data.code&&null!=e.data.data&&(t.user=e.data.data,t.username=e.data.data.username,t.nickname=e.data.data.nickname,t.avatar=e.data.data.avatarUrl)})},updateUser:function(e){if(console.log(e),""==e.detail.value||e.detail.value==this.nickname)return!1;var n={userId:this.userId,username:this.username,name:e.detail.value,nickname:e.detail.value};(0,a.updateUserInfo)(n).then(function(e){console.log(e),0==e.data.code&&t.showToast({title:"修改成功",icon:"success"})})},gotoAddressTab:function(){return t.chooseAddress({success:function(t){}}),!1},loginOut:function(){t.showModal({title:"提示",content:"是否确认退出登录",showCancel:!0,success:function(e){if(e.confirm)t.showToast({title:"您已退出登录",icon:"success"}),this.userId=null,t.clearStorageSync(),setTimeout(function(){t.switchTab({url:"/pages/tabBar/home/home"})},1e3);else if(e.cancel)return!1}})},cleanCache:function(){t.showModal({title:"提示",content:"清楚缓存后会退出登录状态",showCancel:!0,success:function(e){if(e.confirm)t.clearStorageSync(),tt.clearStorageSync(),t.showToast({title:"缓存已清除",icon:"none"});else if(e.cancel)return!1}})},about:function(){t.navigateTo({url:"/pages/mall/about"})},gotoPasswd:function(){t.navigateTo({url:"/pages/login/resetpasswd"})},gotoLogin:function(){t.navigateTo({url:"/pages/login/login"})},gotoTab:function(e){t.showToast({title:"尚未开通，敬请关注",icon:"none"})},showType:function(t){this.tabbarIndex=t,this.list=this.orderList[t]}}};e.default=o}).call(this,n("543d")["default"])},d8e3:function(t,e,n){"use strict";var a=n("7930"),o=n.n(a);o.a}},[["653f","common/runtime","common/vendor"]]]);