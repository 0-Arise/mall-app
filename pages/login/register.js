(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/register"],{1143:function(e,t,o){"use strict";o.r(t);var n=o("3b01"),i=o("4dd0");for(var a in i)"default"!==a&&function(e){o.d(t,e,function(){return i[e]})}(a);o("a778");var s,r=o("f0c5"),u=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);t["default"]=u.exports},"3b01":function(e,t,o){"use strict";var n,i=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"b",function(){return i}),o.d(t,"c",function(){return a}),o.d(t,"a",function(){return n})},"4dd0":function(e,t,o){"use strict";o.r(t);var n=o("b7b8"),i=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);t["default"]=i.a},a530:function(e,t,o){"use strict";(function(e){o("3075");n(o("66fd"));var t=n(o("1143"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},a778:function(e,t,o){"use strict";var n=o("b567"),i=o.n(n);i.a},b567:function(e,t,o){},b7b8:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o("9e95"),i=o("cf36");a(o("f025"));function a(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{face:"../../static/img/logo.png",phoneNumber:"",code:"",passwd:"",getCodeText:"获取验证码",getCodeBtnColor:"#ffffff",getCodeisWaiting:!1}},onLoad:function(){this.getLogo()},methods:{Timer:function(){},getCode:function(){var t=this;if(e.hideKeyboard(),!this.getCodeisWaiting){if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber))return e.showToast({title:"请填写正确手机号码",icon:"none"}),!1;this.getCodeText="发送中...",e.request({url:n.requestURL+"/admin/mobile/sms",data:{type:"REG",mobile:this.phoneNumber},header:{"custom-header":"hello"},method:"POST",success:function(o){if(0!=o.data.code)return t.getCodeText="获取验证码",e.showToast({title:o.data.msg,icon:"none"}),!1;t.getCodeisWaiting=!0,console.log(o.data),t.getCodeBtnColor="rgba(255,255,255,0.5)",e.showToast({title:"验证码已发送",icon:"none"}),setTimeout(function(){t.setTimer()},100),t.code=o.data.data},error:function(o){console.log("短信发送失败"),t.getCodeText="获取验证码",e.showToast({title:"验证码发送失败，请稍后再试",icon:"none"})}})}},setTimer:function(){var e=this,t=60;this.getCodeText="重新获取(60)",this.Timer=setInterval(function(){if(t<=0)return e.getCodeisWaiting=!1,e.getCodeBtnColor="#ffffff",e.getCodeText="获取验证码",void clearInterval(e.Timer);e.getCodeText="重新获取("+t+")",t--},1e3)},getLogo:function(){var e=this;(0,i.getParam)("_LOGO").then(function(t){console.log(t),e.face=t.data.data})},doReg:function(){return e.hideKeyboard(),/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber)?(e.showLoading({title:"提交中..."}),e.request({url:n.requestURL+"/admin/user/reg",data:{password:this.passwd,phone:this.phoneNumber,source:"wechat_mini",smsCode:this.code,tenantId:1},header:{"custom-header":"auu"},method:"POST",success:function(t){console.log(t),0==t.data.code&&t.data.data?e.setStorage({key:"UserList",data:t.data,success:function(){e.hideLoading(),e.showToast({title:"注册成功",icon:"success"}),setTimeout(function(){e.navigateBack()},1e3)}}):e.showToast({title:t.data.msg,icon:"none"})},fail:function(t){console.log(t),e.showToast({title:t.data.msg,icon:"none"})}}),e.hideLoading(),!1):(e.showToast({title:"请填写正确手机号码",icon:"none"}),!1)},toLogin:function(){e.hideKeyboard(),e.redirectTo({url:"login"}),e.navigateBack()}}};t.default=s}).call(this,o("543d")["default"])}},[["a530","common/runtime","common/vendor"]]]);